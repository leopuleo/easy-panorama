{"version":3,"sources":["webpack:///webpack/bootstrap 94812eb96c021363c704","webpack:///./index.js","webpack:///./block.js"],"names":["__","wp","i18n","blocks","registerBlockType","createBlock","title","icon","category","attributes","id","type","url","alt","containerHeight","default","startPosition","gracefulFailure","failureMessage","displayMeta","supports","html","transforms","from","isMultiBlock","transform","tag","shortcode","named","height","graceful_failure","failure_message","failure_message_insert","meta","minimum_overflow","start_position","to","edit","save","className","props","Component","element","ImagePlaceholder","BlockControls","MediaUpload","InspectorControls","components","Button","Toolbar","IconButton","RangeControl","ToggleControl","TextControl","PanelBody","Dashicon","Tooltip","withAPIData","Placeholder","PanoramaBlock","arguments","setImageData","bind","onSelectImage","onChangeMediaAlt","onChangeMediaTitle","onChangeContainerHeight","onChangeStartPosition","onChangeGracefulFailure","onChangeFailureMessage","onChangeDisplayMeta","image","data","setAttributes","source_url","alt_text","rendered","media","Number","position","message","isSelected","panoramaStyle","isLoading","error","status","controls","open"],"mappings":"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","file":"block.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 94812eb96c021363c704","const { __ } = wp.i18n;\n\nconst {\n  registerBlockType,\n  createBlock\n} = wp.blocks;\n\nimport PanoramaBlock from './block';\n\nregisterBlockType( 'easy-panorama/block', {\n  title: __( 'Panorama' ),\n  icon: 'format-image',\n  category: 'layout',\n  attributes: {\n    id: {\n      type: 'number',\n    },\n    url: {\n      type: 'string',\n    },\n    alt: {\n      type: 'string',\n    },\n    title: {\n      type: 'string',\n    },\n    containerHeight: {\n      type: 'number',\n      default: 400\n    },\n    startPosition: {\n      type: 'number',\n      default: 5\n    },\n    gracefulFailure: {\n      type: 'bool',\n      default: true\n    },\n    failureMessage: {\n      type: 'string',\n      default: __('Scroll left/right to pan through panorama.')\n    },\n    displayMeta: {\n      type: 'bool',\n      default: false\n    }\n  },\n  supports: {\n    html: false\n  },\n  transforms: {\n    from: [\n      {\n        type: 'block',\n        isMultiBlock: true,\n        blocks: [ 'core/image' ],\n        transform: ( attributes ) => {\n          return createBlock( 'easy-panorama/block', ...attributes );\n        },\n      },\n      {\n        type: 'shortcode',\n        tag: 'easy_panorama',\n        attributes: {\n          id: {\n            type: 'number',\n            shortcode: ( { named: { id } } ) => {\n              return id;\n            },\n          },\n          url: {\n            type: 'string',\n            shortcode: ( { named: { url } } ) => {\n              return url;\n            },\n          },\n          title: {\n            type: 'string',\n            shortcode: ( { named: { title } } ) => {\n              return title;\n            },\n          },\n          alt: {\n            type: 'string',\n            shortcode: ( { named: { alt } } ) => {\n              return alt;\n            },\n          },\n          height: {\n            type: 'number',\n            shortcode: ( { named: { height } } ) => {\n              return height;\n            },\n          },\n          graceful_failure: {\n            type: 'bool',\n            shortcode: ( { named: { graceful_failure } } ) => {\n              return graceful_failure;\n            },\n          },\n          failure_message: {\n            type: 'string',\n            shortcode: ( { named: { failure_message } } ) => {\n              return failure_message;\n            },\n          },\n          failure_message_insert: {\n            type: 'string',\n            shortcode: ( { named: { failure_message_insert } } ) => {\n              return failure_message_insert;\n            },\n          },\n          meta: {\n            type: 'bool',\n            shortcode: ( { named: { meta } } ) => {\n              return meta;\n            },\n          },\n          minimum_overflow: {\n            type: 'number',\n            shortcode: ( { named: { minimum_overflow } } ) => {\n              return minimum_overflow;\n            },\n          },\n          start_position: {\n            type: 'number',\n            shortcode: ( { named: { start_position } } ) => {\n              return start_position;\n            },\n          },\n\n        },\n      },\n    ],\n    to: [\n      {\n        type: 'block',\n        blocks: [ 'core/image' ],\n        transform: ( { id, url, alt, title } ) => {\n          return createBlock( 'core/image', { id, url, alt, title } );\n        },\n      },\n    ],\n  },\n\n  edit: PanoramaBlock,\n\n  save: props => {\n    const {\n      className,\n      attributes: {\n        id,\n        url,\n        alt,\n        title\n      }\n    } = props;\n    return (\n      <div className={ className }>\n        {\n          url && (\n            <figure>\n              <img className={`wp-image-${ id }`} src={ url } alt={ alt } title={ title } />\n            </figure>\n          )\n        }\n      </div>\n    );\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","const { __ } = wp.i18n;\n\nconst { Component } = wp.element;\n\nconst {\n  ImagePlaceholder,\n  BlockControls,\n  MediaUpload,\n  InspectorControls\n} = wp.blocks;\n\nconst {\n  Button,\n  Toolbar,\n  IconButton,\n  RangeControl,\n  ToggleControl,\n  TextControl,\n  PanelBody,\n  Dashicon,\n  Tooltip,\n  withAPIData,\n  Placeholder\n} = wp.components;\n\nclass PanoramaBlock extends Component {\n  constructor() {\n    super( ...arguments );\n    this.setImageData = this.setImageData.bind( this );\n    this.onSelectImage = this.onSelectImage.bind( this );\n    this.onChangeMediaAlt = this.onChangeMediaAlt.bind( this );\n    this.onChangeMediaTitle = this.onChangeMediaTitle.bind( this );\n    this.onChangeContainerHeight = this.onChangeContainerHeight.bind( this );\n    this.onChangeStartPosition = this.onChangeStartPosition.bind( this );\n    this.onChangeGracefulFailure = this.onChangeGracefulFailure.bind( this );\n    this.onChangeFailureMessage = this.onChangeFailureMessage.bind( this );\n    this.onChangeDisplayMeta = this.onChangeDisplayMeta.bind( this );\n  }\n\n  componentDidUpdate() {\n    const { image } = this.props;\n    if(image && image.data)Â {\n      this.setImageData(image.data);\n    }\n  }\n\n  setImageData ( data ) {\n    const { attributes: { id, url, alt, title }, setAttributes } = this.props;\n    if( !url ) {\n      setAttributes( {\n        url: data.source_url\n      })\n    }\n    if( !alt ) {\n      setAttributes( {\n        alt: data.alt_text\n      })\n    }\n    if( !title ) {\n      setAttributes( {\n        title: data.title.rendered\n      })\n    }\n  }\n\n  onSelectImage( media ) {\n    this.props.setAttributes( {\n      url: media.url,\n      id: media.id,\n      alt: media.alt,\n      title: media.title\n    } );\n  };\n\n  onChangeMediaAlt( alt ){\n    this.props.setAttributes( {\n      alt: alt\n    } );\n  };\n\n  onChangeMediaTitle( title ) {\n    this.props.setAttributes( {\n      title: title\n    } );\n  };\n\n  onChangeContainerHeight(height) {\n    this.props.setAttributes( {\n      containerHeight: Number(height)\n    } );\n  };\n\n  onChangeStartPosition( position ) {\n    this.props.setAttributes( {\n      startPosition: position\n    } );\n  };\n\n  onChangeGracefulFailure() {\n    const { attributes: { gracefulFailure }, setAttributes } = this.props;\n    setAttributes( {\n      gracefulFailure: !gracefulFailure\n    } );\n  };\n\n  onChangeFailureMessage( message ) {\n    this.props.setAttributes( {\n      failureMessage: message\n    } );\n  }\n\n  onChangeDisplayMeta() {\n    const { attributes: { displayMeta }, setAttributes } = this.props;\n    setAttributes( {\n      displayMeta: !displayMeta\n    } );\n  }\n\n  render() {\n    const {\n      isSelected,\n      className,\n      image,\n      attributes: {\n        url,\n        id,\n        alt,\n        title,\n        containerHeight,\n        startPosition,\n        gracefulFailure,\n        failureMessage,\n        displayMeta\n      }\n    } = this.props;\n\n    const panoramaStyle = {\n      height: containerHeight + 'px'\n    };\n\n    if ( image && image.isLoading ) {\n      return [\n        <Placeholder\n          icon=\"format-image\"\n          label={ __( 'Panorama' ) }\n          className=\"easypanorama-loading\"\n        >\n          <span> { __( 'Loading...' ) } </span>\n        </Placeholder>,\n      ];\n    }\n\n    if ( image && image.error ) {\n      const { error: { status } } = image;\n      let message = __( 'Generic error' );\n\n      if(status === 404) {\n        message = __( 'Image not found: invalid attachment ID.' );\n      }\n\n      return [\n        <Placeholder\n          icon=\"format-image\"\n          label={ __( 'Panorama' ) }\n          className=\"easypanorama-loading\"\n        >\n          <span>{ message }</span>\n        </Placeholder>,\n      ];\n    }\n\n    if(!url) {\n      return [\n        <ImagePlaceholder\n          icon=\"format-image\"\n          label={ __( 'Panorama' ) }\n          className={ className }\n          key=\"easypanorama-placeholder\"\n          onSelectImage={ this.onSelectImage }\n        />\n      ]\n    };\n\n    const controls = (\n      isSelected && (\n        <BlockControls key=\"easypanorama-controls\">\n          <Toolbar>\n            <MediaUpload\n              onSelect={ this.onSelectImage }\n              type=\"image\"\n              value={ this.id }\n              render={ ( { open } ) => (\n                <IconButton\n                  className=\"components-toolbar__control\"\n                  label={ __( 'Edit image' ) }\n                  icon=\"edit\"\n                  onClick={ open }\n                />\n              ) }\n            />\n          </Toolbar>\n        </BlockControls>\n      )\n    );\n\n    return [\n      controls,\n      isSelected && (\n        <InspectorControls key=\"easypanorama-inspector\">\n          <PanelBody title={ __( 'Panorama settings' ) }>\n            <TextControl\n              label={ __( 'Panorama height' ) }\n              help={ __('Insert the height for this panoramic image container.') }\n              type={ 'number' }\n              value={ containerHeight }\n              onChange={ this.onChangeContainerHeight }\n            />\n            <RangeControl\n              label={ __( 'Start position' ) }\n              help={ __( 'Determines the start position of the panorama: insert a value from 0 (left) to 10 (right).' ) }\n              value={ startPosition }\n              onChange={ this.onChangeStartPosition }\n              min={ 0 }\n              max={ 10 }\n            />\n            <ToggleControl\n              label={ __('Show meta on overlay') }\n              checked={ displayMeta }\n              onChange={ this.onChangeDisplayMeta }\n            />\n            { displayMeta && (\n              <TextControl\n                label={ __( 'Title' ) }\n                help={ __('Give a title to this image, it will be displayed over the image. This is the alt meta of the image.') }\n                value={ alt }\n                onChange={ this.onChangeMediaAlt }\n              />\n            )}\n            { displayMeta && (\n              <TextControl\n                label={ __( 'Description' ) }\n                help={ __('Give a description to this image, it will be displayed over the image. This is the title meta of the image.') }\n                value={ title }\n                onChange={ this.onChangeMediaTitle }\n              />\n            )}\n          </PanelBody>\n          <PanelBody title={ __('Advanced settings')}>\n            <ToggleControl\n              label={ __('Insert failure message') }\n              checked={ gracefulFailure }\n              onChange={ this.onChangeGracefulFailure }\n            />\n            { gracefulFailure && (\n               <TextControl\n                label={ __( 'Failure message' ) }\n                help={ __('This message will appear in mobile devices with no gyroscopic data or no physical orientation support.') }\n                value={ failureMessage }\n                onChange={ this.onChangeFailureMessage }\n              />\n            )}\n          </PanelBody>\n        </InspectorControls>\n      ),\n      <div className={ className }>\n        <div style={ panoramaStyle } className=\"panorama--image\">\n          <img src={ url } alt={ alt } title={ title } />\n        </div>\n        <span className=\"panorama--help-text\">\n          <Tooltip text={ __( 'This is a preview, some features are not available.' ) }>\n            <span className=\"panorama--help-icon\">\n              <Dashicon size=\"25\" icon=\"info\" />\n            </span>\n          </Tooltip>\n        </span>\n      </div>\n    ];\n  }\n}\n\nexport default withAPIData( ( props ) => {\n  const { id } = props.attributes;\n  if ( !id ) {\n    return {};\n  }\n  return {\n    image: `/wp/v2/media/${ id }`,\n  };\n} )( PanoramaBlock );\n\n\n\n// WEBPACK FOOTER //\n// ./block.js"],"sourceRoot":""}